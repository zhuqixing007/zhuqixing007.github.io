<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>C++算法题：两数相加</title>
      <link href="/3873536879.html"/>
      <url>/3873536879.html</url>
      
        <content type="html"><![CDATA[<h1 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h1><p>给出两个 非空 的链表用来表示两个非负的整数。其中，它们各自的位数是按照 逆序 的方式存储的，并且它们的每个节点只能存储 一位 数字。</p><p>如果，我们将这两个数相加起来，则会返回一个新的链表来表示它们的和。</p><p>您可以假设除了数字 0 之外，这两个数都不会以 0 开头。</p><p>示例：</p><p>输入：(2 -&gt; 4 -&gt; 3) + (5 -&gt; 6 -&gt; 4)<br>输出：7 -&gt; 0 -&gt; 8<br>原因：342 + 465 = 807</p><blockquote><p>来源：力扣（LeetCode）<br>链接：<a href="https://leetcode-cn.com/problems/add-two-numbers" target="_blank" rel="noopener">https://leetcode-cn.com/problems/add-two-numbers</a><br>著作权归领扣网络所有。商业转载请联系官方授权，非商业转载请注明出处。</p></blockquote><h1 id="题目所用的结构体链表定义和调用方式"><a href="#题目所用的结构体链表定义和调用方式" class="headerlink" title="题目所用的结构体链表定义和调用方式"></a>题目所用的结构体链表定义和调用方式</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">//Definition for singly-linked list.</span></span><br><span class="line"> <span class="class"><span class="keyword">struct</span> <span class="title">ListNode</span> &#123;</span></span><br><span class="line">    <span class="keyword">int</span> val;</span><br><span class="line">    ListNode *next;</span><br><span class="line">    ListNode(<span class="keyword">int</span> x) : val(x), next(<span class="literal">NULL</span>) &#123;&#125;</span><br><span class="line"> &#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">ListNode* <span class="title">addTwoNumbers</span><span class="params">(ListNode* l1, ListNode* l2)</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="方法一"><a href="#方法一" class="headerlink" title="方法一"></a>方法一</h1><p>这种方法的大致思想是先获取输入两个链表的长度，如果长度不一致，就在长度短的末尾补0对齐，然后逐位相加，并且考虑进位，将结果保存到新的链表中就可以了。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">ListNode* <span class="title">addTwoNumbers</span><span class="params">(ListNode* l1, ListNode* l2)</span> </span>&#123;</span><br><span class="line">        ListNode *l = <span class="keyword">new</span> ListNode(<span class="number">0</span>); <span class="comment">//存储结果</span></span><br><span class="line">        ListNode *p1 = l1; <span class="comment">//间接操作变量的指针</span></span><br><span class="line">        ListNode *p2 = l2;</span><br><span class="line">        ListNode *p = l;</span><br><span class="line">        <span class="keyword">int</span> len1 = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> len2 = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//获取长度</span></span><br><span class="line">        <span class="keyword">while</span>(p1-&gt;next)&#123;</span><br><span class="line">            len1 += <span class="number">1</span>;</span><br><span class="line">            p1 = p1-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(p2-&gt;next)&#123;</span><br><span class="line">            len2 += <span class="number">1</span>;</span><br><span class="line">            p2 = p2-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> len = len1;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//长度短的后面补0对齐</span></span><br><span class="line">        <span class="keyword">if</span>(len1&gt;len2)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;len1-len2; i++)&#123;</span><br><span class="line">                p2-&gt;next = <span class="keyword">new</span> ListNode(<span class="number">0</span>);</span><br><span class="line">                p2 = p2-&gt;next;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(len2&gt;len1)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;len2-len1; i++)&#123;</span><br><span class="line">                p1-&gt;next = <span class="keyword">new</span> ListNode(<span class="number">0</span>);</span><br><span class="line">                p1 = p1-&gt;next;</span><br><span class="line">            &#125;</span><br><span class="line">            len = len2;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">bool</span> move; <span class="comment">//进位标记</span></span><br><span class="line">        <span class="keyword">int</span> temp;</span><br><span class="line">        temp = l1-&gt;val + l2-&gt;val;</span><br><span class="line">        <span class="comment">//如果第一个有进位</span></span><br><span class="line">        <span class="keyword">if</span>(temp + p-&gt;val &gt;= <span class="number">10</span>)&#123;</span><br><span class="line">            p-&gt;val += temp - <span class="number">10</span>;</span><br><span class="line">            move = <span class="literal">true</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span>&#123;</span><br><span class="line">            p-&gt;val += temp;</span><br><span class="line">            move = <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;len<span class="number">-1</span>; i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(move)&#123;</span><br><span class="line">                p-&gt;next = <span class="keyword">new</span> ListNode(<span class="number">1</span>); <span class="comment">//接收上一位过来的进位</span></span><br><span class="line">            &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                p-&gt;next = <span class="keyword">new</span> ListNode(<span class="number">0</span>); <span class="comment">//上一位没有发生进位</span></span><br><span class="line">            &#125;</span><br><span class="line">            p = p-&gt;next;</span><br><span class="line">            temp = l1-&gt;next-&gt;val + l2-&gt;next-&gt;val;</span><br><span class="line">            <span class="keyword">if</span>(temp + p-&gt;val &gt;= <span class="number">10</span>)&#123;</span><br><span class="line">                p-&gt;val += temp - <span class="number">10</span>;</span><br><span class="line">                move = <span class="literal">true</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span>&#123;</span><br><span class="line">                p-&gt;val += temp;</span><br><span class="line">                move = <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            l1 = l1-&gt;next;</span><br><span class="line">            l2 = l2-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//如果最后一个还有进位</span></span><br><span class="line">        <span class="keyword">if</span>(move)&#123;</span><br><span class="line">            p-&gt;next = <span class="keyword">new</span> ListNode(<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> l;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h1 id="方法二"><a href="#方法二" class="headerlink" title="方法二"></a>方法二</h1><p>将l1和l2的数取出来直接相加，将结果逐位分离后存储到新的链表，这种方法最简单，但是一点都不推荐，因为相加的结果会可能会溢出，超出C++所能表示的整数的最大范围，我在LeetCode提交代码的时候，就遇到了这样的问题，在我本地我试了几个例子是没有问题的，但是，LeetCode还是非常严格的，我一开始用的是int，LeetCode测试用例用了比int范围大的数，我换成long和long long，他马上又用比这两个还大的数。。。我无话可说了。。。接受现实吧，类似操作少用为妙。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">ListNode* <span class="title">addTwoNumbers</span><span class="params">(ListNode* l1, ListNode* l2)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">long</span> num1 = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">long</span> num2 = <span class="number">0</span>;</span><br><span class="line">        ListNode *p1 = l1;</span><br><span class="line">        ListNode *p2 = l2;</span><br><span class="line">        <span class="keyword">int</span> len1 = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> len2 = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(p1-&gt;next)&#123;</span><br><span class="line">            len1 += <span class="number">1</span>;</span><br><span class="line">            p1 = p1-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(p2-&gt;next)&#123;</span><br><span class="line">            len2 += <span class="number">1</span>;</span><br><span class="line">            p2 = p2-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        p1 = l1; p2 = l2; <span class="comment">//重置指针</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;len1<span class="number">-1</span>; i++)&#123;</span><br><span class="line">            num1 += p1-&gt;val * <span class="built_in">pow</span>(<span class="number">10</span>, i);</span><br><span class="line">            p1 = p1-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        num1 += p1-&gt;val * <span class="built_in">pow</span>(<span class="number">10</span>, len1<span class="number">-1</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;len2<span class="number">-1</span>; i++)&#123;</span><br><span class="line">            num2 += p2-&gt;val * <span class="built_in">pow</span>(<span class="number">10</span>, i);</span><br><span class="line">            p2 = p2-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        num2 += p2-&gt;val * <span class="built_in">pow</span>(<span class="number">10</span>, len2<span class="number">-1</span>);</span><br><span class="line">        <span class="keyword">long</span> res = num1 + num2;</span><br><span class="line">        <span class="keyword">int</span> len = <span class="number">0</span>;</span><br><span class="line">        ListNode *l = <span class="keyword">new</span> ListNode(res%<span class="number">10</span>);</span><br><span class="line">        ListNode *p = l;</span><br><span class="line">        res = res/<span class="number">10</span>;</span><br><span class="line">        <span class="keyword">while</span>(res)&#123;</span><br><span class="line">            p-&gt;next = <span class="keyword">new</span> ListNode(res%<span class="number">10</span>);</span><br><span class="line">            p = p-&gt;next;</span><br><span class="line">            res = res/<span class="number">10</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> l;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 算法题 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 算法 </tag>
            
            <tag> C++ </tag>
            
            <tag> LeetCode </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++算法题：两数之和</title>
      <link href="/2301220432.html"/>
      <url>/2301220432.html</url>
      
        <content type="html"><![CDATA[<h1 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h1><p>给定一个整数数组 nums 和一个目标值 target，请你在该数组中找出和为目标值的那 两个 整数，并返回他们的数组下标。</p><p>你可以假设每种输入只会对应一个答案。但是，你不能重复利用这个数组中同样的元素。</p><p>示例:</p><p>给定 nums = [2, 7, 11, 15], target = 9</p><p>因为 nums[0] + nums[1] = 2 + 7 = 9<br>所以返回 [0, 1]</p><blockquote><p>来源：力扣（LeetCode）<br>链接：<a href="https://leetcode-cn.com/problems/two-sum" target="_blank" rel="noopener">https://leetcode-cn.com/problems/two-sum</a></p></blockquote><h1 id="暴力求解"><a href="#暴力求解" class="headerlink" title="暴力求解"></a>暴力求解</h1><p>直接用嵌套循环遍历数组中所有元素，找到符合的两个元素，第二层循环从第一层循环的下一个元素开始遍历，所以这种方法的算法复杂度为：$O(n^2)$ 。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; twoSum(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums, <span class="keyword">int</span> target) &#123;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.size(); i++)&#123;</span><br><span class="line">            <span class="keyword">int</span> ans = target - nums[i];</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = i + <span class="number">1</span>; j &lt; nums.size(); j++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(ans == nums[j])&#123;</span><br><span class="line">                    v.push_back(i);</span><br><span class="line">                    v.push_back(j);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> v;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h1 id="使用map"><a href="#使用map" class="headerlink" title="使用map"></a>使用map</h1><p>算法复杂度为 $O(n) $。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; twoSum(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums, <span class="keyword">int</span> target) &#123;</span><br><span class="line">        <span class="built_in">map</span>&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; dict;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;nums.size(); i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(dict.count(target-nums[i]) &amp;&amp; i != dict[target-nums[i]])&#123;</span><br><span class="line">                <span class="keyword">return</span> &#123;dict[target-nums[i]],i&#125;;</span><br><span class="line">            &#125;</span><br><span class="line">            dict[nums[i]] = i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> &#123;<span class="number">-1</span>, <span class="number">-1</span>&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>LeetCode运行结果（第一行为暴力求解，第二行为使用map）</p></blockquote><p><img src="/imgs/%E4%B8%A4%E6%95%B0%E4%B9%8B%E5%92%8C.png" alt></p><p>关于C++哈希表的讲解请点击<a href="https://zhuqixing007.github.io/1">这里</a></p>]]></content>
      
      
      <categories>
          
          <category> 算法题 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 算法 </tag>
            
            <tag> C++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++自定义实现MyString类的封装（二）</title>
      <link href="/1887828332.html"/>
      <url>/1887828332.html</url>
      
        <content type="html"><![CDATA[<h1 id="前文回顾"><a href="#前文回顾" class="headerlink" title="前文回顾"></a>前文回顾</h1><p>在上一篇文章里我们实现了MyString类的构造和析构函数，所讲解的内容包含类的声明和实现分离、构造和析构函数的语法、const限定符的部分使用场景、引用的部分使用场景、this指针、函数重载这几个内容。</p><p>本文要讲解的主要内容是操作符重载，实际上操作符重载可以被认为是函数重载的一种特殊情况。讲解内容以MyString类为例，注释形式为主，今天我们继续扩展MyString类的功能。</p><h1 id="MyString类功能增强"><a href="#MyString类功能增强" class="headerlink" title="MyString类功能增强"></a>MyString类功能增强</h1><p>与前文相同，从功能的调用方式入手。</p><h2 id="cout-lt-lt-s"><a href="#cout-lt-lt-s" class="headerlink" title="cout &lt;&lt; s;"></a>cout &lt;&lt; s;</h2><p>对象被创建以后，用户需要看到对象中的内容，所以我们就需要实现将s输出到屏幕上，看代码：</p><blockquote><p>MyString.hpp</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">friend</span> ostream &amp; <span class="keyword">operator</span>&lt;&lt;(ostream &amp; out, MyString &amp; s);</span><br><span class="line"><span class="comment">// 首先cout是一个输出流，他是一个ostream对象，所以接受的函数参数是一个ostream类型加一个MyString类型</span></span><br><span class="line"><span class="comment">// 其次如果你希望&lt;&lt;操作符支持链式编程，也就是可以这样调用:cout&lt;&lt;s&lt;&lt;"abc"&lt;&lt;endl,</span></span><br><span class="line"><span class="comment">// 那么你的返回类型也掩饰一个ostream对象</span></span><br><span class="line"><span class="comment">// 最后ostream类的源码，我们是不可见的，所以我们不能通过成员函数来实现操作符重载，</span></span><br><span class="line"><span class="comment">// 所以这里只能使用友元函数来实现，这也是友元函数的最大用武之地</span></span><br></pre></td></tr></table></figure><blockquote><p>MyString.cpp</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 实现非常简单，只要把s的值传递给ostream对象，然后返回就可以了</span></span><br><span class="line">ostream &amp; <span class="keyword">operator</span>&lt;&lt;(ostream &amp; out, MyString &amp;s) &#123;</span><br><span class="line">    out&lt;&lt;s.ch;</span><br><span class="line">    <span class="keyword">return</span> out;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="cin-gt-gt-s"><a href="#cin-gt-gt-s" class="headerlink" title="cin &gt;&gt; s;"></a>cin &gt;&gt; s;</h2><p>从键盘键入内容传递给对象也是一个基本的业务，实现方式和cout类似，因此不做过多说明了</p><blockquote><p>MyString.hpp</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">friend</span> istream &amp; <span class="keyword">operator</span>&gt;&gt;(istream &amp; in, MyString &amp; s);</span><br></pre></td></tr></table></figure><blockquote><p>MyString.cpp</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">istream &amp; <span class="keyword">operator</span>&gt;&gt;(istream &amp; in, MyString &amp;s) &#123;</span><br><span class="line">    in&gt;&gt;s.ch;</span><br><span class="line">    <span class="keyword">return</span> in;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="s-i"><a href="#s-i" class="headerlink" title="s[i];"></a>s[i];</h2><p>根据索引获取对象的值，需要对[]操作符进行重载</p><blockquote><p>MyString.hpp</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> <span class="keyword">operator</span>[](<span class="keyword">int</span> i) <span class="keyword">const</span>;</span><br><span class="line"><span class="comment">// 返回的值一个字符，所以函数的返回类型为char，索引是int型，同时不希望对象被改变，所以用const</span></span><br></pre></td></tr></table></figure><blockquote><p>MyString.cpp</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> MyString::<span class="keyword">operator</span>[](<span class="keyword">int</span> i) <span class="keyword">const</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> ch[i]; <span class="comment">//直接返回ch的索引</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="s-“abc”-s1-s2"><a href="#s-“abc”-s1-s2" class="headerlink" title="s == “abc”; s1 == s2;"></a>s == “abc”; s1 == s2;</h2><p>判断是否相等有两种情况，一是判断一个对象是否和一个字符串相等，一是判断两个对象是否相等</p><blockquote><p>MyString.hpp</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">bool</span> <span class="keyword">operator</span>==(<span class="keyword">const</span> <span class="keyword">char</span> *p) <span class="keyword">const</span>;</span><br><span class="line"><span class="keyword">bool</span> <span class="keyword">operator</span>==(<span class="keyword">const</span> MyString &amp; s) <span class="keyword">const</span>;</span><br></pre></td></tr></table></figure><blockquote><p>MyString.cpp</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//都是一些比较简单的业务逻辑</span></span><br><span class="line"><span class="keyword">bool</span> MyString::<span class="keyword">operator</span>==(<span class="keyword">const</span> <span class="keyword">char</span>*p) <span class="keyword">const</span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(p == <span class="literal">NULL</span>)&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">this</span>-&gt;Length == <span class="number">0</span>)&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">this</span>-&gt;Length != <span class="built_in">strlen</span>(p))&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">      <span class="keyword">return</span> !<span class="built_in">strcmp</span>(<span class="keyword">this</span>-&gt;ch, p);</span><br><span class="line">      <span class="comment">//strcmp(s1,s2)   s1=s2返回0，s1&gt;s2返回大于0的值，s1&lt;s2返回小于0的值</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">bool</span> MyString::<span class="keyword">operator</span>==(<span class="keyword">const</span> MyString &amp; s) <span class="keyword">const</span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(<span class="keyword">this</span>-&gt;Length != s.Length)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> !<span class="built_in">strcmp</span>(<span class="keyword">this</span>-&gt;ch, s.ch);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="完整施工"><a href="#完整施工" class="headerlink" title="完整施工"></a>完整施工</h1><p>接下来还有一部分操作符重载，远离都类似就不再展开细讲了，下面给出封装完成的MyString类：</p><blockquote><p>MyString.hpp</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*实现自定义字符串类*/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> MyString_hpp</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MyString_hpp</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> once</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"iostream"</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyString</span> &#123;</span></span><br><span class="line">   </span><br><span class="line"><span class="comment">//私有成员变量</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">int</span> Length;</span><br><span class="line">    <span class="keyword">char</span> * ch;   </span><br><span class="line">    </span><br><span class="line"><span class="comment">//构造和析构</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    MyString(<span class="keyword">int</span> length = <span class="number">0</span>);<span class="comment">//对象内存空间分配构造函数 </span></span><br><span class="line">    MyString(<span class="keyword">const</span> <span class="keyword">char</span> *p);<span class="comment">//对象初始化构造函数 </span></span><br><span class="line">    MyString(<span class="keyword">const</span> MyString &amp;obj);<span class="comment">//拷贝构造函数  </span></span><br><span class="line">    ~MyString();<span class="comment">//析构函数  </span></span><br><span class="line">    </span><br><span class="line"><span class="comment">//成员函数</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">length</span><span class="params">()</span></span>;<span class="comment">//返回长度   </span></span><br><span class="line">    <span class="function"><span class="keyword">char</span> * <span class="title">c_str</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">const</span> <span class="keyword">char</span> * <span class="title">c_str</span><span class="params">()</span> <span class="keyword">const</span></span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//成员函数实现的操作符重载</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">char</span> <span class="keyword">operator</span>[](<span class="keyword">int</span> i) <span class="keyword">const</span>;<span class="comment">//[]操作符   </span></span><br><span class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span>==(<span class="keyword">const</span> MyString &amp; s) <span class="keyword">const</span>;</span><br><span class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span>==(<span class="keyword">const</span> <span class="keyword">char</span> * p) <span class="keyword">const</span>;  <span class="comment">//==操作符  </span></span><br><span class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span>!=(<span class="keyword">const</span> MyString &amp; s) <span class="keyword">const</span>;</span><br><span class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span>!=(<span class="keyword">const</span> <span class="keyword">char</span> * p) <span class="keyword">const</span>;<span class="comment">// !=操作符  </span></span><br><span class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span>&gt;(MyString &amp; s);<span class="comment">// &gt;操作符  </span></span><br><span class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span>&gt;(<span class="keyword">const</span> <span class="keyword">char</span> * p);</span><br><span class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span>&lt;(MyString &amp; s);<span class="comment">// &lt;操作符  </span></span><br><span class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span>&lt;(<span class="keyword">const</span> <span class="keyword">char</span> * p);</span><br><span class="line">    MyString &amp; <span class="keyword">operator</span>=(<span class="keyword">const</span> <span class="keyword">char</span> *p); <span class="comment">//=操作符 字符串赋值 </span></span><br><span class="line">    MyString &amp; <span class="keyword">operator</span>=(<span class="keyword">const</span> MyString &amp; s); <span class="comment">//=操作符 用一个对象给另一个对象赋值 </span></span><br><span class="line"></span><br><span class="line"><span class="comment">//友元函数实现的操作符重载</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">friend</span> ostream &amp; <span class="keyword">operator</span>&lt;&lt;(ostream &amp; out, MyString &amp; s); <span class="comment">// &lt;&lt;操作符  </span></span><br><span class="line">    <span class="keyword">friend</span> istream &amp; <span class="keyword">operator</span>&gt;&gt;(istream &amp; in, MyString &amp; s); <span class="comment">//  &gt;&gt;操作符  </span></span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">/* MyString_hpp */</span></span></span><br></pre></td></tr></table></figure><blockquote><p>MyString.cpp</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"MyString.hpp"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"iostream"</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//构造和析构函数======================================================</span></span><br><span class="line">MyString::MyString(<span class="keyword">int</span> length) &#123;</span><br><span class="line">    <span class="keyword">if</span>(length == <span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">this</span>-&gt;Length = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">this</span>-&gt;ch = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="keyword">this</span>-&gt;Length + <span class="number">1</span>];</span><br><span class="line">        <span class="built_in">strcpy</span>(<span class="keyword">this</span>-&gt;ch, <span class="string">""</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">this</span>-&gt;Length = length;</span><br><span class="line">        <span class="keyword">this</span>-&gt;ch = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="keyword">this</span>-&gt;Length + <span class="number">1</span>];</span><br><span class="line">        <span class="built_in">strcpy</span>(<span class="keyword">this</span>-&gt;ch, <span class="string">""</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">MyString::MyString(<span class="keyword">const</span> <span class="keyword">char</span> *p) &#123;</span><br><span class="line">    <span class="keyword">if</span>(p == <span class="literal">NULL</span>)&#123;</span><br><span class="line">        <span class="keyword">this</span>-&gt;Length = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">this</span>-&gt;ch = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="keyword">this</span>-&gt;Length + <span class="number">1</span>];</span><br><span class="line">        <span class="built_in">strcpy</span>(<span class="keyword">this</span>-&gt;ch, <span class="string">""</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">this</span>-&gt;Length = (<span class="keyword">int</span>)<span class="built_in">strlen</span>(p);</span><br><span class="line">        <span class="keyword">this</span>-&gt;ch = <span class="keyword">new</span> <span class="keyword">char</span>[Length + <span class="number">1</span>];</span><br><span class="line">        <span class="built_in">strcpy</span>(<span class="keyword">this</span>-&gt;ch, p);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">MyString::MyString(<span class="keyword">const</span> MyString &amp;obj) &#123;</span><br><span class="line">    <span class="keyword">this</span>-&gt;Length = obj.Length;</span><br><span class="line">    <span class="keyword">this</span>-&gt;ch = <span class="keyword">new</span> <span class="keyword">char</span>[Length + <span class="number">1</span>];</span><br><span class="line">    <span class="built_in">strcpy</span>(<span class="keyword">this</span>-&gt;ch, obj.ch);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">MyString::~MyString() &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>-&gt;ch != <span class="literal">NULL</span>)&#123;</span><br><span class="line">        <span class="keyword">delete</span> [] <span class="keyword">this</span>-&gt;ch;</span><br><span class="line">        <span class="keyword">this</span>-&gt;ch = <span class="literal">NULL</span>;</span><br><span class="line">        <span class="keyword">this</span>-&gt;Length = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//cout&lt;&lt;"对象"&lt;&lt;this&lt;&lt;"析构完成"&lt;&lt;endl;</span></span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//构造和析构函数======================================================</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//成员函数===========================================================</span></span><br><span class="line"><span class="keyword">int</span> MyString::length() &#123;</span><br><span class="line">    <span class="keyword">return</span> Length;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">char</span> * MyString::c_str()&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">char</span> * MyString::c_str() <span class="keyword">const</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//成员函数===========================================================</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//成员函数实现的操作符重载==============================================</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// []操作符重载</span></span><br><span class="line"><span class="keyword">char</span> MyString::<span class="keyword">operator</span>[](<span class="keyword">int</span> i)  <span class="keyword">const</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> ch[i];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ==操作符重载 调用方式：s == "abc"</span></span><br><span class="line"><span class="keyword">bool</span> MyString::<span class="keyword">operator</span>==(<span class="keyword">const</span> <span class="keyword">char</span>* p) <span class="keyword">const</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(p == <span class="literal">NULL</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">this</span>-&gt;Length == <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">this</span>-&gt;Length != <span class="built_in">strlen</span>(p))&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> !<span class="built_in">strcmp</span>(<span class="keyword">this</span>-&gt;ch, p);</span><br><span class="line">        <span class="comment">//strcmp(s1,s2)相等返回为0，s1 若大于s2 则返回大于0 的值。s1 若小于s2 则返回小于0 的值。</span></span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//return true;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ==操作符重载 调用方式：s1 == s2</span></span><br><span class="line"><span class="keyword">bool</span> MyString::<span class="keyword">operator</span>==(<span class="keyword">const</span> MyString &amp; s) <span class="keyword">const</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">this</span>-&gt;Length != s.Length)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> !<span class="built_in">strcmp</span>(<span class="keyword">this</span>-&gt;ch, s.ch);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// !=操作符重载 调用方式：s1 != "abc"</span></span><br><span class="line"><span class="keyword">bool</span> MyString::<span class="keyword">operator</span>!=(<span class="keyword">const</span> <span class="keyword">char</span>* p) <span class="keyword">const</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> !(*<span class="keyword">this</span> == p);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 操作符重载 调用方式：s1 != s2</span></span><br><span class="line"><span class="keyword">bool</span> MyString::<span class="keyword">operator</span>!=(<span class="keyword">const</span> MyString &amp; s) <span class="keyword">const</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> !(*<span class="keyword">this</span> == s);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// &gt;操作符重载 调用方式：s1 &gt; s2</span></span><br><span class="line"><span class="keyword">bool</span> MyString::<span class="keyword">operator</span>&gt;(MyString &amp; s)&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">strcmp</span>(<span class="keyword">this</span>-&gt;ch, s.ch) &gt; <span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// &gt;操作符重载 调用方式：s1 &gt; "abc"</span></span><br><span class="line"><span class="keyword">bool</span> MyString::<span class="keyword">operator</span>&gt;(<span class="keyword">const</span> <span class="keyword">char</span> * p)&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">strcmp</span>(<span class="keyword">this</span>-&gt;ch, p) &gt; <span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// &lt;操作符重载 调用方式：s1 &lt; s2</span></span><br><span class="line"><span class="keyword">bool</span> MyString::<span class="keyword">operator</span>&lt;(MyString &amp; s)&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">strcmp</span>(<span class="keyword">this</span>-&gt;ch, s.ch) &lt; <span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// &lt;操作符重载 调用方式：s1 &lt; "abc"</span></span><br><span class="line"><span class="keyword">bool</span> MyString::<span class="keyword">operator</span>&lt;(<span class="keyword">const</span> <span class="keyword">char</span> * p)&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">strcmp</span>(<span class="keyword">this</span>-&gt;ch, p) &lt; <span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// =操作符重载 调用方式：s1 = "abc"</span></span><br><span class="line">MyString &amp; MyString::<span class="keyword">operator</span>=(<span class="keyword">const</span> <span class="keyword">char</span> * p)&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">this</span>-&gt;ch != <span class="literal">NULL</span>)&#123;</span><br><span class="line">        <span class="keyword">delete</span> [] <span class="keyword">this</span>-&gt;ch;</span><br><span class="line">        <span class="keyword">this</span>-&gt;Length = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">this</span>-&gt;ch = <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(p == <span class="literal">NULL</span>)&#123;</span><br><span class="line">        <span class="keyword">this</span>-&gt;Length = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">this</span>-&gt;ch = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="keyword">this</span>-&gt;Length + <span class="number">1</span>];</span><br><span class="line">        <span class="built_in">strcpy</span>(<span class="keyword">this</span>-&gt;ch, <span class="string">""</span>);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">this</span>-&gt;Length = (<span class="keyword">int</span>)<span class="built_in">strlen</span>(p);</span><br><span class="line">        <span class="keyword">this</span>-&gt;ch = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="keyword">this</span>-&gt;Length + <span class="number">1</span>];</span><br><span class="line">        <span class="built_in">strcpy</span>(<span class="keyword">this</span>-&gt;ch, p);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// =操作符重载 调用方式：s1 = s2</span></span><br><span class="line">MyString &amp; MyString::<span class="keyword">operator</span>=(<span class="keyword">const</span> MyString &amp; s)&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">this</span>-&gt;ch != <span class="literal">NULL</span>)&#123;</span><br><span class="line">        <span class="keyword">delete</span> [] <span class="keyword">this</span>-&gt;ch;</span><br><span class="line">        <span class="keyword">this</span>-&gt;Length = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">this</span>-&gt;ch = <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">this</span>-&gt;Length = s.Length ;</span><br><span class="line">    <span class="keyword">this</span>-&gt;ch = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="keyword">this</span>-&gt;Length + <span class="number">1</span>];</span><br><span class="line">    <span class="built_in">strcpy</span>(<span class="keyword">this</span>-&gt;ch, s.ch);</span><br><span class="line">    <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//成员函数实现的操作符重载==============================================</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//友元函数实现的操作符重载==============================================</span></span><br><span class="line">ostream &amp; <span class="keyword">operator</span>&lt;&lt;(ostream &amp; out, MyString &amp;s) &#123;</span><br><span class="line">    out&lt;&lt;s.ch;</span><br><span class="line">    <span class="keyword">return</span> out;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">istream &amp; <span class="keyword">operator</span>&gt;&gt;(istream &amp; in, MyString &amp;s) &#123;</span><br><span class="line">    in&gt;&gt;s.ch;</span><br><span class="line">    <span class="keyword">return</span> in;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//成员函数实现的操作符重载==============================================</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> C++学习笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 面向对象 </tag>
            
            <tag> 操作符重载 </tag>
            
            <tag> 友元函数 </tag>
            
            <tag> 对象的构造和析构 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++自定义实现MyString类的封装(一)</title>
      <link href="/764912066.html"/>
      <url>/764912066.html</url>
      
        <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>本文通过封装一个自定义的字符串类MyString来讲解C++面向对象的一些基础内容，主要涉及以下几个方面，知识讲解以代码注释为主，这样更容易理解：</p><ul><li>函数重载</li><li>类的构造和析构</li><li>const操作符</li><li>引用</li><li>操作符重载</li></ul><h1 id="一、-搭建类的框架"><a href="#一、-搭建类的框架" class="headerlink" title="一、 搭建类的框架"></a>一、 搭建类的框架</h1><p>我采用类的声明和类的实现分离的做法，因此这个类会有两个文件，其中MyString.hpp是类的声明，这里定义了类的成员变量和类的成员函数。</p><h2 id="MyString-hpp"><a href="#MyString-hpp" class="headerlink" title="MyString.hpp"></a>MyString.hpp</h2><p>我使用的编译器是Xcode，其他编译器的后缀名是.h，关于.hpp和.h不是本文的重点，不作说明，感兴趣的可以自行查找相关文献。</p><p>以下代码为新建一个类时，编译器自动生成代码，没有什么难点，因此只做部分注释。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> MyString_hpp</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MyString_hpp</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> once <span class="comment">// 防止头文件被重复引用，多次引用只有一次有效</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"iostream"</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyString</span> &#123;</span></span><br><span class="line">  <span class="keyword">private</span>:</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">  <span class="keyword">protected</span>:</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">/* MyString_hpp */</span></span></span><br></pre></td></tr></table></figure><h2 id="MyString-cpp"><a href="#MyString-cpp" class="headerlink" title="MyString.cpp"></a>MyString.cpp</h2><p>同样由编译器自动生成，不过也可以手动创建，以下为编译器自动生成代码，只有一行，因为还没有做类的成员函数</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"MyString.hpp"</span></span></span><br></pre></td></tr></table></figure><h1 id="二、-MyString要实现的基础业务需求"><a href="#二、-MyString要实现的基础业务需求" class="headerlink" title="二、 MyString要实现的基础业务需求"></a>二、 MyString要实现的基础业务需求</h1><p>在实现功能之前先确定类的成员变量，之后实现功能我用调用方式来说明。</p><h2 id="成员变量"><a href="#成员变量" class="headerlink" title="成员变量"></a>成员变量</h2><p>一个字符串首先必须有一个长度，其次就是字符串的内容，因此有了如下的变量声明，同时我们不希望类的内部实现被外界看到，也就是说，我们不希望用户直接对成员变量进行操作，因此这里定义成私有变量：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="keyword">int</span> Length;</span><br><span class="line"><span class="keyword">char</span> * ch;</span><br></pre></td></tr></table></figure><h2 id="MyString-s"><a href="#MyString-s" class="headerlink" title="MyString s;"></a>MyString s;</h2><p>第一个应用场景就是声明一个变量，这里就需要开始对象的构造了，因此我们需要在MyString.hpp中定义构造函数：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">MyString(); <span class="comment">//在之前的文章里简单的讲解过构造函数和析构函数的语法：函数名和类名相同</span></span><br></pre></td></tr></table></figure><p>然后在MyString.cpp文件中实现该函数的业务逻辑：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">MyString::MyString()<span class="comment">//类的声明和实现分离语法   类名::函数名()&#123;函数体&#125;</span></span><br><span class="line">&#123;</span><br><span class="line">Length = <span class="number">0</span>; <span class="comment">//声明时没有赋值，因此字符串的长度应该是0</span></span><br><span class="line">  ch = <span class="keyword">new</span> cahr * p[Length + <span class="number">1</span>]; <span class="comment">//分配内存，多分配一个长度，留给"/0"</span></span><br><span class="line">  <span class="built_in">strcpy</span>(ch, <span class="string">""</span>); <span class="comment">//这时候的字符串是一个空串</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="MyString-s-“abc”"><a href="#MyString-s-“abc”" class="headerlink" title="MyString  s = “abc”;"></a>MyString  s = “abc”;</h2><p>第二个场景是声明的同时初始化一个变量，同样是对象的构造：</p><blockquote><p>MyString.hpp</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">MyString(<span class="keyword">const</span> <span class="keyword">char</span> * p); <span class="comment">//1.我们只是用一下传入的参数，为了防止意外错误，我们不希望这个参数被改变，因此定义成const</span></span><br><span class="line"><span class="comment">//2.同样是构造函数，因此函数名和类名相同，但是接受的参数不同，所以这里就是函数重载。要说明的是：函数重载的判断标准是函数的参数列表，并不是函数的返回类型</span></span><br></pre></td></tr></table></figure><blockquote><p>Mystring.cpp</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">MyString::MyString(<span class="keyword">const</span> <span class="keyword">char</span> * p)&#123;</span><br><span class="line">  <span class="comment">//1. 传入的p可能是一个空值，如果是空值，那就和无参构造函数相同</span></span><br><span class="line">  <span class="keyword">if</span>(p == <span class="literal">NULL</span>)&#123;</span><br><span class="line">    Length = <span class="number">0</span>; </span><br><span class="line">    ch = <span class="keyword">new</span> cahr * p[Length + <span class="number">1</span>]; </span><br><span class="line">    <span class="built_in">strcpy</span>(ch, <span class="string">""</span>); </span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span>&#123;</span><br><span class="line">    Length = (<span class="keyword">int</span>)<span class="built_in">strlen</span>(p); <span class="comment">//获取传入字符串长度</span></span><br><span class="line">    ch = <span class="keyword">new</span> <span class="keyword">char</span>[Length + <span class="number">1</span>];</span><br><span class="line">    <span class="built_in">strcpy</span>(ch, p);</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="MyString-s1-s2"><a href="#MyString-s1-s2" class="headerlink" title="MyString s1 = s2;"></a>MyString s1 = s2;</h2><p>第三个场景是用一个变量区初始化另一个变量，也是对象的构造，但这里是拷贝构造函数：</p><blockquote><p>MyString.hpp</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">MyString(<span class="keyword">const</span> MyString &amp; obj); <span class="comment">//用一个对象初始化另一个对象，传入的参数应该是MyString对象，同时我们不需要对obj直接进行操作，也不希望obj在使用过程中被意外的改变，因此将obj定义为一个const引用，在用一个对象初始化另一个对象的时候，编译器就会自动调用拷贝构造函数</span></span><br></pre></td></tr></table></figure><blockquote><p>MyString.cpp</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">MyString::MyString(<span class="keyword">const</span> MyString &amp; obj)&#123;</span><br><span class="line">  <span class="comment">//这里用到了this指针，也可以不用，this指针指明了当前被操作的对象，他也是函数的一个参数，只不过没有显式的定义出来，在c++编译器的内部已经帮我们定义好了</span></span><br><span class="line"><span class="keyword">this</span>-&gt;Length = obj.Length; <span class="comment">//复制对象的长度</span></span><br><span class="line">  <span class="keyword">this</span>-&gt;ch = <span class="keyword">new</span> <span class="keyword">char</span>[Length + <span class="number">1</span>]; <span class="comment">//分配内存</span></span><br><span class="line">  <span class="built_in">strcpy</span>(<span class="keyword">this</span>-&gt;ch, obj.ch); <span class="comment">//复制对象的值</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="对象的析构"><a href="#对象的析构" class="headerlink" title="对象的析构"></a>对象的析构</h2><p>在类封装完成之前，我们还不完全知道哪些地方分配了内存，需要在对象销毁时释放内存空间，因此，对象的析构可以在类的封装结束后再实现，这里先打一个框架，不做实现</p><blockquote><p>MyString.hpp</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">~MyString();</span><br></pre></td></tr></table></figure><blockquote><p>MyString.cpp</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">MyString::~MyString()&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>最后说明: 构造函数和析构函数，我们规定采用public声明，因此上述函数的声明都是在public字段中的</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> C++学习笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 面向对象 </tag>
            
            <tag> 操作符重载 </tag>
            
            <tag> 友元函数 </tag>
            
            <tag> 对象的构造和析构 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>初识C++对象的构造和析构</title>
      <link href="/561343915.html"/>
      <url>/561343915.html</url>
      
        <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>创建一个对象时常常需要某些初始化工作，例如对成员变量的赋值等，但是类的成员变量不能在声明的时候赋值；同样的，在对象被销毁的时候也需要执行某些自动化操作，因此就有了对象的构造和析构函数。</p><h1 id="1-构造函数"><a href="#1-构造函数" class="headerlink" title="1. 构造函数"></a>1. 构造函数</h1><h2 id="1-1-概念"><a href="#1-1-概念" class="headerlink" title="1.1 概念"></a>1.1 概念</h2><p>函数名和类相同的特殊成员函数，并且没有任何返回类型的声明。</p><h2 id="1-2-调用"><a href="#1-2-调用" class="headerlink" title="1.2 调用"></a>1.2 调用</h2><ul><li>编译器自动调用</li><li>手动调用</li></ul><h1 id="2-析构函数"><a href="#2-析构函数" class="headerlink" title="2. 析构函数"></a>2. 析构函数</h1><h2 id="2-1-定义"><a href="#2-1-定义" class="headerlink" title="2.1 定义"></a>2.1 定义</h2><p>用于清理对象，没有返回类型声明，函数名为~ClassName()，在对象被销毁时自动调用。</p><h2 id="2-2-调用"><a href="#2-2-调用" class="headerlink" title="2.2 调用"></a>2.2 调用</h2><ul><li>编译器自动调用</li></ul>]]></content>
      
      
      <categories>
          
          <category> C++学习笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 学习笔记 </tag>
            
            <tag> 面向对象 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>一些近况</title>
      <link href="/3937384991.html"/>
      <url>/3937384991.html</url>
      
        <content type="html"><![CDATA[<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script><div id="hbe-security">  <div class="hbe-input-container">  <input type="password" class="hbe-form-control" id="pass" placeholder="Please enter the password to read the blog." />    <label for="pass">Please enter the password to read the blog.</label>    <div class="bottom-line"></div>  </div></div><div id="decryptionError" style="display: none;">Incorrect Password!</div><div id="noContentError" style="display: none;">No content to display!</div><div id="encrypt-blog" style="display:none">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</div><script src="/lib/crypto-js.js"></script><script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">]]></content>
      
      
      <categories>
          
          <category> 随笔 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 随笔 </tag>
            
            <tag> 生活 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo添加来必立评论功能</title>
      <link href="/1220187351.html"/>
      <url>/1220187351.html</url>
      
        <content type="html"><![CDATA[<p>评论功能是博客网站的一个常用功能，开通评论版块就可以和读者互动起来，Hexo支持多种第三方评论接入，本文以livere（如果打不开网站，可能需要fq）评论为例。</p><h1 id="Step1-注册账号"><a href="#Step1-注册账号" class="headerlink" title="Step1:注册账号"></a>Step1:注册账号</h1><blockquote><p>官网入口：<a href="https://www.livere.com/" target="_blank" rel="noopener">https://www.livere.com</a></p></blockquote><p>注册登陆之后选择安装免费的city版，之后你会在你的管理页面看到以下代码：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 来必力City版安装代码 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"lv-container"</span> <span class="attr">data-id</span>=<span class="string">"city"</span> <span class="attr">data-uid</span>=<span class="string">"根据你的秘钥更改"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="actionscript">   (<span class="function"><span class="keyword">function</span><span class="params">(d, s)</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">       <span class="keyword">var</span> j, e = d.getElementsByTagName(s)[<span class="number">0</span>];</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">       <span class="keyword">if</span> (<span class="keyword">typeof</span> LivereTower === <span class="string">'function'</span>) &#123; <span class="keyword">return</span>; &#125;</span></span><br><span class="line"></span><br><span class="line">       j = d.createElement(s);</span><br><span class="line"><span class="actionscript">       j.src = <span class="string">'https://cdn-city.livere.com/js/embed.dist.js'</span>;</span></span><br><span class="line"><span class="actionscript">       j.async = <span class="literal">true</span>;</span></span><br><span class="line"></span><br><span class="line">       e.parentNode.insertBefore(j, e);</span><br><span class="line"><span class="javascript">   &#125;)(<span class="built_in">document</span>, <span class="string">'script'</span>);</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">noscript</span>&gt;</span>为正常使用来必力评论功能请激活JavaScript<span class="tag">&lt;/<span class="name">noscript</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- City版安装代码已完成 --&gt;</span></span><br></pre></td></tr></table></figure><h1 id="Step2-创建livere-ejs"><a href="#Step2-创建livere-ejs" class="headerlink" title="Step2: 创建livere.ejs"></a>Step2: 创建livere.ejs</h1><p>在你的主题/layout/_partial/post目录下创建文件livere.ejs，讲上述代码复制进去。</p><p>同时在你的主题_config.yml文件中添加以下代码：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">livere:</span><br><span class="line">  enable:true</span><br></pre></td></tr></table></figure><h1 id="Step3-加载livere-ejs"><a href="#Step3-加载livere-ejs" class="headerlink" title="Step3: 加载livere.ejs"></a>Step3: 加载livere.ejs</h1><p>接着在_partial目录下的artical.ejs中你想要插入评论的位置（我是直接放在最后）加入如下代码：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (!<span class="attr">index</span> &amp;&amp; <span class="attr">theme.livere.enable</span> &amp;&amp; <span class="attr">post.comments</span>)&#123; %&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">%-</span> <span class="attr">partial</span>('<span class="attr">post</span>/<span class="attr">livere</span>', &#123;</span></span><br><span class="line"><span class="tag">      <span class="attr">key:</span> <span class="attr">post.slug</span>,</span></span><br><span class="line"><span class="tag">      <span class="attr">title:</span> <span class="attr">post.title</span>,</span></span><br><span class="line"><span class="tag">      <span class="attr">url:</span> <span class="attr">config.url</span>+<span class="attr">url_for</span>(<span class="attr">post.path</span>)</span></span><br><span class="line"><span class="tag">    &#125;) %&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br></pre></td></tr></table></figure><p>好了，大功告成，效果如下：</p><p><img src="/imgs/livere.jpg" alt></p>]]></content>
      
      
      <categories>
          
          <category> Hexo教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> livere </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo添加分享功能</title>
      <link href="/1625753387.html"/>
      <url>/1625753387.html</url>
      
        <content type="html"><![CDATA[<p>本文所用的第三方分享接口是mob，仅供参考，目前存在一个问题，mob提供的js是http协议的，如果你的网站是https协议的，评论功能会被部分浏览器屏蔽（firefox，chrome，edge，360都会屏蔽，目前只知道qq浏览器可以加载，其他浏览器需要手动阻止屏蔽）</p><h1 id="Step1-官网注册"><a href="#Step1-官网注册" class="headerlink" title="Step1: 官网注册"></a>Step1: 官网注册</h1><blockquote><p>地址：<a href="http://www.mob.com/" target="_blank" rel="noopener">http://www.mob.com/</a></p></blockquote><p>选择sharesdk，添加应用，用你网站名称命名即可。</p><h1 id="Step2-创建share-ejs"><a href="#Step2-创建share-ejs" class="headerlink" title="Step2: 创建share.ejs"></a>Step2: 创建share.ejs</h1><p>在你的主题layout/_partial/post目录下创建share.ejs，写入以下代码:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--MOB SHARE BEGIN--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"-mob-share-ui-button -mob-share-open"</span>&gt;</span>分享<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"-mob-share-ui"</span> <span class="attr">style</span>=<span class="string">"display: none"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"-mob-share-list"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"-mob-share-weibo"</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>新浪微博<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"-mob-share-qzone"</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>QQ空间<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"-mob-share-qq"</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>QQ好友<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"-mob-share-douban"</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>豆瓣<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"-mob-share-facebook"</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>Facebook<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"-mob-share-twitter"</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>Twitter<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"-mob-share-close"</span>&gt;</span>取消<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"-mob-share-ui-bg"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">id</span>=<span class="string">"-mob-share"</span> <span class="attr">src</span>=<span class="string">"http://f1.webshare.mob.com/code/mob-share.js?appkey=mob_share.appkey&gt;&lt;/script&gt;</span></span></span><br><span class="line"><span class="tag"><span class="string">&lt;!--MOB SHARE END--&gt;</span></span></span><br></pre></td></tr></table></figure><h1 id="Step3-加载share-ejs"><a href="#Step3-加载share-ejs" class="headerlink" title="Step3: 加载share.ejs"></a>Step3: 加载share.ejs</h1><p>在你的主题_config.yml文件中添加以下代码：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mob_share: </span><br><span class="line">  enable: true</span><br><span class="line">  appkey: 填你自己的appkey</span><br></pre></td></tr></table></figure><p>接着在_partial目录下的artical.ejs中你想要插入分享的位置加入如下代码：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;% if (!index &amp;&amp; theme.mob_share.enable)&#123; %&gt;</span><br><span class="line">   &lt;%- partial(&apos;post/share&apos;) %&gt;</span><br><span class="line">&lt;% &#125; %&gt;</span><br></pre></td></tr></table></figure><p>至此你的博客网站就有了分享功能了。</p>]]></content>
      
      
      <categories>
          
          <category> Hexo教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> mob </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>map/reduce/filter函数</title>
      <link href="/957718428.html"/>
      <url>/957718428.html</url>
      
        <content type="html"><![CDATA[<p>map/reduce/fliter 是python中较为常用的内建高阶函数（一个函数接收另一个函数作为参数，这种函数称之为高阶函数）</p><h2 id="map"><a href="#map" class="headerlink" title="map"></a>map</h2><h3 id="调用形式"><a href="#调用形式" class="headerlink" title="调用形式"></a>调用形式</h3><blockquote><p>map(function,sequence)</p></blockquote><p>解析：sequence是一个序列，function是一个函数，map函数对sequence中的每一个元素依次将其传入并执行function函数，最终将结果作为一个list返回，python3中返回的是一个迭代器。</p><h4 id="代码实例"><a href="#代码实例" class="headerlink" title="代码实例"></a>代码实例</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">square</span><span class="params">(x)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> x ** <span class="number">2</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">double</span><span class="params">(x)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> x * <span class="number">2</span></span><br><span class="line">res = map(square, [i <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">10</span>)])</span><br><span class="line">print(<span class="string">'&#123;:&lt;5&#125;'</span>.format(<span class="string">'res'</span>), res, list(res))</span><br><span class="line"><span class="comment"># python3中map返回的是一个迭代器，要转化为列表或者元祖才能看到想要的输出</span></span><br><span class="line">res2 = map(<span class="keyword">lambda</span> x: x ** <span class="number">2</span>, [i <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">10</span>)])</span><br><span class="line"><span class="comment"># map函数同样适用于lambda匿名函数</span></span><br><span class="line">print(<span class="string">'&#123;:&lt;5&#125;'</span>.format(<span class="string">'res2'</span>), res2, list(res2))</span><br><span class="line"><span class="comment"># 进阶应用</span></span><br><span class="line">funcs = [square, double]</span><br><span class="line">res3 = map(<span class="keyword">lambda</span> func: func(<span class="number">3</span>), funcs)</span><br><span class="line">print(list(res3))</span><br></pre></td></tr></table></figure><h4 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h4><blockquote><p>res &lt;map object at 0x7f5b949eb940&gt; [0, 1, 4, 9, 16, 25, 36, 49, 64, 81]<br>res2 &lt;map object at 0x7f5b949eba20&gt; [0, 1, 4, 9, 16, 25, 36, 49, 64, 81]<br>[9, 6]</p></blockquote><p><br><br></p><h2 id="reduce"><a href="#reduce" class="headerlink" title="reduce"></a>reduce</h2><h3 id="调用形式-1"><a href="#调用形式-1" class="headerlink" title="调用形式"></a>调用形式</h3><blockquote><p>reduce(functions,sequence)</p></blockquote><p>解析：先将sequence的前两个值传入function，function的返回值和sequence的下一个值作为function新的两个参数，以此迭代</p><h4 id="代码实例-1"><a href="#代码实例-1" class="headerlink" title="代码实例"></a>代码实例</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> reduce</span><br><span class="line"><span class="comment"># reduce函数包含在functools模块中</span></span><br><span class="line">res4 = reduce(<span class="keyword">lambda</span> x ,y : x +y ,[i <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">100</span>)])</span><br><span class="line">print(<span class="string">'&#123;:&lt;5&#125;'</span>.format(<span class="string">'res4:'</span>), res4)</span><br></pre></td></tr></table></figure><h4 id="输出-1"><a href="#输出-1" class="headerlink" title="输出"></a>输出</h4><blockquote><p>res4: 4950</p></blockquote><p><br><br></p><h2 id="filter"><a href="#filter" class="headerlink" title="filter"></a>filter</h2><h3 id="调用形式-2"><a href="#调用形式-2" class="headerlink" title="调用形式"></a>调用形式</h3><blockquote><p>filter(function,sequence)</p></blockquote><p>解析：将sequence中的元素依次传入function，将返回值为True的元素组成一个list/tuple/string（取决于sequence类型，python3返回迭代器）</p><h4 id="代码实例-2"><a href="#代码实例-2" class="headerlink" title="代码实例"></a>代码实例</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">res5 = filter(<span class="keyword">lambda</span> x: x % <span class="number">3</span> == <span class="number">0</span>, [i <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">50</span>)])</span><br><span class="line">print(list(res5))</span><br></pre></td></tr></table></figure><h4 id="输出-2"><a href="#输出-2" class="headerlink" title="输出"></a>输出</h4><blockquote><p>[0, 3, 6, 9, 12, 15, 18, 21, 24, 27, 30, 33, 36, 39, 42, 45, 48]</p></blockquote><h1 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h1><li>map/reduce/filter为函数式编程提供了很多便利，可以让代码更加简洁</li><li>map/reduce/filter在python2中返回的是基本数据类型，python3返回迭代器</li>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 高阶函数 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
